\section{Obstacles Formulation}

	\begin{frame}
		\frametitle{Robot Environment}
		\begin{columns}[T]
			\begin{column}{0.3\textwidth}
				\begin{itemize}
					\item Static obstacles location \\[1.0cm]
					\item Dynamic obstacles trajectory
				\end{itemize}
			\end{column}
			\begin{column}{0.7\textwidth}
				\centering
				\animategraphics[loop,controls,width=0.7\linewidth]{2}{pictures/robot_env_group/robot_env-}{0}{8}
				%\includegraphics[scale=0.7]{pictures/robot_env.pdf}
			\end{column}
		\end{columns}
	\end{frame}

	\begin{frame}
		\frametitle{Laser Scanner}
		\begin{columns}[T]
			\begin{column}{0.42\textwidth}
				\centering
				\onslide<1->{\includegraphics[scale=0.45]{pictures/laser_ranges.pdf}}
				\onslide<2->{
				\begin{block}{Laser scanner message}
					\[\overrightarrow{data}(k) = \left\{
					\begin{array}{lr}
					angle_{min} \\
					angle_{max} \\
					\overrightarrow{angle}_{inc}, \quad \qquad \forall \enspace \delta \in \overrightarrow{angle}_{inc} \\
					range_{min} \\
					range_{max} \\
					\overrightarrow{ranges}, \qquad \qquad \forall \enspace \sigma \in \overrightarrow{ranges}
					\end{array}
					\right.
					\]
				\end{block}
				}
			\end{column}
			\begin{column}{0.52\textwidth}
				\centering
				 \onslide<3->{\includegraphics[scale=0.51]{pictures/robot_laser.pdf}}
			\end{column}
		\end{columns}
	\end{frame}

	\begin{frame}
		\frametitle{Homogeneous Transformation}
		\begin{columns}[T]
			\begin{column}{0.4\textwidth}
				\onslide<2->{
				\begin{block}{Rotation Matrix regarding $Z$-axis}
					\[
						T_z = 
						\begin{pmatrix}
							\cos\theta_z & -\sin\theta_z & 0 & x_{trns} \\
							\sin\theta_z &  \cos\theta_z & 0 & y_{trns}  \\
							0		   & 0 			 & 1 & y_{trns}  \\
							0		   & 0			 & 0 & 1 \\
						\end{pmatrix}
					\]
				\end{block}
				}
				\onslide<3->{
				\begin{block}{Co-ordinate Transformation}
					\[
						T_{obst\_map} = 
						T_{ft\_map} T_{r\_ft} T_{lsr\_r}
						\begin{pmatrix}
							x_{obst} \\
							y_{obst} \\
							z_{obst} \\
							1 
						\end{pmatrix}
					\]
				\end{block}
				}
			\end{column}
			\begin{column}{0.55\textwidth}
				\centering
				\onslide<1->{\includegraphics[scale=0.9]{pictures/laser_robot_frame.pdf}}
			\end{column}
		\end{columns}
	\end{frame}

	\begin{frame}
		\frametitle{Homogeneous Transformation}
		\begin{columns}[T]
			\begin{column}{0.49\textwidth}
				\begin{itemize}
					\item $
					T_{footprint\_map} \enspace \text{ }=
					\begin{pmatrix}
						\cos\theta_r & -\sin\theta_r & 0 & x_{r} \\
						\sin\theta_r & \cos\theta_r & 0 & y_{r} \\
						0 & 0 & 1 & 0 \\
						0 & 0 & 0 & 1 \\
					\end{pmatrix}
					$
					\item $
					T_{robot\_footprint} \enspace= 
					\begin{pmatrix}
						1 & 0 & 0 & 0 \\
						0 & 1 & 0 & 0 \\
						0 & 0 & 1 & -0.125 \\
						0 & 0 & 0 & 1 \\
					\end{pmatrix}
					$
					\item $
					T_{laser\_robot} \qquad= 
					\begin{pmatrix}
						1 & 0 & 0 & 0 \\
						0 & 1 & 0 & -0.245 \\
						0 & 0 & 1 & -0.051 \\
						0 & 0 & 0 & 1 \\
					\end{pmatrix}
					$
				\end{itemize}
			\end{column}
			\begin{column}{0.49\textwidth}
				\centering
				\includegraphics[scale=0.5]{pictures/robotnik.pdf}
			\end{column}
		\end{columns}
	\end{frame}

	\begin{frame}
		\frametitle{Saved Obstacles Frame}
		\centering
		\includegraphics[scale=0.46]{pictures/intial_map.eps}
	\end{frame}

	\begin{frame}
		\frametitle{Cluster + Fitting Algorithm}
		\onslide<1->{
		\begin{block}{Density-Based Spatial Clustering of Applications with Noise (DBSCAN)}
			Statistical search algorithm
		\end{block}
		\begin{block}{Least Square Fitting Ellipse (LSFE)}
			Numerical fitting algorithm for each set of data.
		\end{block}
		}
		\begin{columns}[T]
			\onslide<2->{
			\begin{column}{0.32\textwidth}
				\begin{itemize}
					\item Edged data points
				\end{itemize}
				\includegraphics[scale=0.65]{pictures/lsellipse1.pdf}
			\end{column}
			}
			\onslide<3->{
			\begin{column}{0.32\textwidth}
				\begin{itemize}
					\item Concave data points
				\end{itemize}
				\includegraphics[scale=0.65]{pictures/lsellipse2.pdf}
			\end{column}
			}
			\onslide<4->{
			\begin{column}{0.32\textwidth}
				\begin{itemize}
					\item Lined-curved data points
				\end{itemize}
				\includegraphics[scale=0.65]{pictures/lsellipse3.pdf}
			\end{column}
			}
		\end{columns}
	\end{frame}

	\begin{frame}
		\frametitle{Fitted Frame}
		\centering
		\includegraphics[scale=0.13]{pictures/map_clustered.eps}
	\end{frame}

	\begin{frame}
		\frametitle{Dynamic Obstacles Tracking}
		\begin{columns}[T]
			\begin{column}{0.4\textwidth}
				\onslide<2->{
				\begin{block}{Dyn. obstacles estimation}
					\begin{align*}
						&\hat{\mathbf{x}}_{i,k} = 
						\begin{pmatrix}
							\hat{x}_{i,k} \\
							\hat{y}_{i,k} \\
							\hat{\theta}_{i,k}
						\end{pmatrix},
						\qquad \qquad \hat{\mathbf{x}}_{i,k} =
						\begin{pmatrix}
							\hat{v}_{i,k} \\
							\hat{\omega}_{i,k}
						\end{pmatrix}
						\\
						&\hat{\mathbf{X}}_{i,k} := \{ \hat{\mathbf{x}}_{i,k}, \hat{\mathbf{x}}_{i,k+1}, \cdots, \hat{\mathbf{x}}_{i,k+N_p} \} \\
						&\bar{\mathbf{X}}_{i,k} := \{ \bar{\mathbf{x}}_{i,k}, \bar{\mathbf{x}}_{i,k+1}, \cdots, \bar{\mathbf{x}}_{i,k+N_p}\}
					\end{align*}
				\end{block}
				}
				\onslide<3->{
				\begin{block}{Dynamic obstacles vector}
					\[
					\hat{\mathbf{Z}}_{i,k} = 
					\begin{cases}
						\hat{\mathbf{X}}_{i,k}, & \text{if } i \in I_{un} \\
						\bar{\mathbf{X}}_{i,k}, & \text{if } i \in I_{robots}.
					\end{cases}
					\]
				\end{block}
				}
			\end{column}
			\begin{column}{0.56\textwidth}
				\centering
				\onslide<1->{\includegraphics[scale=0.7]{pictures/robot_env_diff.pdf}}
			\end{column}
		\end{columns}
	\end{frame}

	\begin{frame}
		\frametitle{Obstacles Detection Block Diagram}
		\centering
		\includegraphics[scale=0.9]{pictures/block_diagram_obst_1.pdf}
	\end{frame}
